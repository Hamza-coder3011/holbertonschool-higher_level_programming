<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Products</title>
</head>
<body>
    {% if ('' != '') %}{% endif %}
    {% include 'header.html' ignore missing %}

    <h1>Products (source: {{ source or 'unknown' }})</h1>

    {% if error %}
        <div style="color: red;"><strong>{{ error }}</strong></div>
        {% if requested_id %}
            <p>Requested id: {{ requested_id }}</p>
        {% endif %}
    {% else %}
        {% if products %}
            <table border="1" cellpadding="6" cellspacing="0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    {% for p in products %}
                        <tr>
                            <td>{{ p.id }}</td>
                            <td>{{ p.name }}</td>
                            <td>{{ p.category }}</td>
                            <td>
                                {% if p.price is not none %}
                                    {{ "%.2f"|format(p.price) }}
                                {% else %}
                                    N/A
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No products to display.</p>
        {% endif %}
    {% endif %}

    {% include 'footer.html' ignore missing %}
</body>
</html>
